/*
 * arizona.h: ARIZONA (Memory Controller = "MC") registers
 */

#define MC_XY_STRIDE			0x00
#define MC_XY_SC_BASE			0x08
#define MC_XY_SD_BASE			0x10
#define MC_XY_LINES			0x18
#define MC_XY_SETUP			0x20
#define MC_DMA_AB_BASE			0x28
#define MC_DMA_C_BASE			0x30
#define MC_INT_CTL			0x38
#define	MC_SD_CONF_A			0x40
#define	MC_SD_CONF_B			0x48
#define	MC_GEN_CTL			0x50
#define	MC_SC_BURST_MAP			0x58
#define	MC_SC_IO_MAP			0x60
#define	MC_SC_IO_B_MAP			0x68
#define	MC_SC_MABORT			0x70
#define	MC_STATUS			0x78

#ifdef __ASSEMBLER__
#define MC_REG(r) PA_TO_KVA1(MC_BASE+(r))
#else
#define MC_REG(r) ((volatile unsigned int *)PA_TO_KVA1(MC_BASE+(r)))
#endif

#define MC_XY_STRIDE_SCBUS_STRIDE	0x00000fff
#define MC_XY_STRIDE_SCBUS_STRIDE_SHIFT	0
#define MC_XY_STRIDE_SDRAM_STRIDE	0x0fff0000
#define MC_XY_STRIDE_SDRAM_STRIDE_SHIFT	16

#define MC_XY_LINES_WPL			0x000007ff
#define MC_XY_LINES_WPL_SHIFT		0
#define MC_XY_LINES_NLINES		0x0fff0000
#define MC_XY_LINES_NLINES_SHIFT	16
#define MC_XY_LINES_SD2SC		0x00000000
#define MC_XY_LINES_SC2SD		0x80000000

#define MC_XY_SETUP_PKTSIZE_A		0x0000000f
#define MC_XY_SETUP_PKTSIZE_A_SHIFT	0
#define MC_XY_SETUP_PKTSIZE_B		0x000000f0
#define MC_XY_SETUP_PKTSIZE_B_SHIFT	4
#define MC_XY_SETUP_PKTSIZE_C		0x00000f00
#define MC_XY_SETUP_PKTSIZE_C_SHIFT	8
#define MC_XY_SETUP_PKTSIZE_XY		0x0000f000
#define MC_XY_SETUP_PKTSIZE_XY_SHIFT	12
#define MC_XY_SETUP_DEVID_A		0x000f0000
#define MC_XY_SETUP_DEVID_A_SHIFT	16
#define MC_XY_SETUP_DEVID_B		0x000f0000
#define MC_XY_SETUP_DEVID_B_SHIFT	20
#define MC_XY_SETUP_DEVID_C		0x000f0000
#define MC_XY_SETUP_DEVID_C_SHIFT	24
#define MC_XY_SETUP_RRARB		0x00000000
#define MC_XY_SETUP_PRIARB		0x80000000

#define MC_DMA_AB_BASE_SDRAMA		0x0000ffff
#define MC_DMA_AD_BASE_SDRAMA_SHIFT	0
#define MC_DMA_AB_BASE_SDRAMB		0xffff0000
#define MC_DMA_AD_BASE_SDRAMB_SHIFT	16

#define MC_DMA_C_BASE_SDRAMC		0x0000ffff
#define MC_DMA_C_BASE_SDRAMC_SHIFT	0
#define MC_DMA_C_BASE_STARTXYDMA	0x80000000

#define MC_INT_CTL_INT0MASK_SCBUSMA	0x00000001
#define MC_INT_CTL_INT0MASK_XYDMADONE	0x00000002
#define MC_INT_CTL_INT0MASK_SW		0x00000004
#define MC_INT_CTL_INT1MASK		0x00000008
#define MC_INT_CTL_INT0_SCBUSMA		0x00000100
#define MC_INT_CTL_INT0_XYDMADONE	0x00000200
#define MC_INT_CTL_INT0_SW		0x00000400
#define MC_INT_CTL_INT1			0x00000800
#define MC_INT_CTL_INT0_SWGEN		0x00004000
#define MC_INT_CTL_INT1_GEN		0x00008000

#define MC_SD_CONF_A_ACT0_ACT1		0x0000000f
#define MC_SD_CONF_A_ACT0_ACT1_SHIFT	0
#define MC_SD_CONF_A_PRE_ACT		0x000000f0
#define MC_SD_CONF_A_PRE_ACT_SHIFT	4
#define MC_SD_CONF_A_REF_ACT		0x00000f00
#define MC_SD_CONF_A_REF_ACT_SHIFT	8
#define MC_SD_CONF_A_REF_REF		0x0000f000
#define MC_SD_CONF_A_REF_REF_SHIFT	12
#define MC_SD_CONF_A_PRE_REF		0x000f0000
#define MC_SD_CONF_A_PRE_REF_SHIFT	16
#define MC_SD_CONF_A_MAXREF		0x7ff00000
#define MC_SD_CONF_A_MAXREF_SHIFT	20

#define MC_SD_CONF_B_ACT_PRE		0x0000000f
#define MC_SD_CONF_B_ACT_PRE_SHIFT	0
#define MC_SD_CONF_B_ACT_CMD		0x000000f0
#define MC_SD_CONF_B_ACT_CMD_SHIFT	4
#define MC_SD_CONF_B_WR_PRE		0x00000f00
#define MC_SD_CONF_B_WR_PRE_SHIFT	8
#define MC_SD_CONF_B_RD_PRE		0x0000f000
#define MC_SD_CONF_B_RD_PRE_SHIFT	12
#define MC_SD_CONF_B_BRST_WR		0x000f0000
#define MC_SD_CONF_B_BRST_WR_SHIFT	16
#define MC_SD_CONF_B_PRE_MRS		0x00f00000
#define MC_SD_CONF_B_PRE_MRS_SHIFT	20
#define MC_SD_CONF_B_MRS_ACT		0x0f000000
#define MC_SD_CONF_B_MRS_ACT_SHIFT	24
#define MC_SD_CONF_B_ACCESSHOLD		0xf0000000
#define MC_SD_CONF_B_ACCESSHOLD_SHIFT	28

#define MC_GEN_CTL_SCBUS_ARBPRI		0x00000000
#define MC_GEN_CTL_SCBUS_ARBRR		0x00000001
#define MC_GEN_CTL_SCBRST_SIZE		0x0000003e
#define MC_GEN_CTL_SCBRST_SIZE_SHIFT	1
#define MC_GEN_CTL_SCBRST_OFFSET	0x000007c0
#define MC_GEN_CTL_SCBRST_OFFSET_SHIFT	6
#define MC_GEN_CTL_SLAVERUN		0x00008000
#define MC_GEN_CTL_SDRAM_ARBRR		0x00000000
#define MC_GEN_CTL_SDRAM_ARBPRI		0x00010000
#define MC_GEN_CTL_SDRAM_CPUPRI		0x00000000
#define MC_GEN_CTL_SDRAM_SCBUSPRI	0x00020000
#define MC_GEN_CTL_SDRAM_MREFRESH	0x00040000
#define MC_GEN_CTL_SGRAM		0x00000000
#define MC_GEN_CTL_SDRAM		0x00080000
#define MC_GEN_CTL_RABYPASS_SDRAM	0x00100000
#define MC_GEN_CTL_RABYPASS_REGBLK	0x00200000
#define MC_GEN_CTL_RABYPASS_SCBRST	0x00400000
#define MC_GEN_CTL_RABYPASS_SCIO	0x00800000
#define MC_GEN_CTL_MABORT_CNT		0x0f000000
#define MC_GEN_CTL_MABORT_CNT_SHIFT	24

#define MC_STATUS_MASTER		0x00000001
#define MC_STATUS_SDRAMTRANS		0x00000002	
#define MC_STATUS_SCBUSID		0x0000003c
#define MC_STATUS_SCBUSID_SHIFT		2
#define MC_STATUS_32BITCORE		0x00000040
#define MC_STATUS_PROC			0x00000180
#define  MC_STATUS_PROC_R4400		0x00000000
#define  MC_STATUS_PROC_R4650		0x00000080
#define  MC_STATUS_PROC_R5000		0x00000100
#define  MC_STATUS_PROC_R4300		0x00000180
#define MC_STATUS_SCBUSPARK		0x00000200
#define MC_STATUS_QS			0x00000400
#define MC_STATUS_PHASE			0x00000800
#define MC_STATUS_CONF			0x000ff000
#define MC_STATUS_CHIPREV		0x00f00000
#define MC_STATUS_CHIPREV_SHIFT		20
#define MC_STATUS_CHIPID		0xff000000
#define  MC_STATUS_CHIPID_MC		0xa5000000


